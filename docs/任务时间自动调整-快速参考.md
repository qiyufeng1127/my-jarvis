# 任务时间自动调整 - 快速参考

## 🎯 核心功能

| 功能 | 说明 | 触发条件 |
|------|------|----------|
| **启动时间修正** | 任务移动到实际启动时间 | 完成启动验证 |
| **完成时间修正** | 结束时间改为实际完成时间 | 完成完成验证 |
| **冲突自动下移** | 冲突任务移到空闲时段 | 时间冲突时 |

---

## 📋 使用流程

### 启动任务
```
1. 点击任务的"启动"按钮
2. 拍照完成启动验证
3. ✅ 任务自动移到当前时间
4. ⚠️ 冲突任务自动下移
5. 💰 获得40%金币奖励
```

### 完成任务
```
1. 点击任务的"完成"按钮
2. 拍照完成完成验证
3. ✅ 结束时间改为当前时间
4. 💰 获得60%金币奖励
5. 🎁 提前完成获得额外奖励
```

---

## 💰 金币奖励

| 情况 | 奖励 |
|------|------|
| 启动验证通过 | +40% 基础金币 |
| 完成验证通过 | +60% 基础金币 |
| 提前20%-50% | +33% 额外金币 |
| 提前50%以上 | +100% 额外金币 |
| 启动超时 | -10%/20%/30% |

---

## 🔧 时间调整规则

### 启动时间调整
```
原计划: 6:00 - 7:00 (60分钟)
实际启动: 3:00
调整后: 3:00 - 4:00 (60分钟)
```

### 完成时间调整
```
原计划: 9:00 - 10:00 (60分钟)
实际完成: 9:30
调整后: 9:00 - 9:30 (30分钟)
提前: 30分钟 → 额外奖励
```

### 冲突处理
```
原时间轴:
├─ 3:00 - 3:30: 任务A
├─ 6:00 - 7:00: 任务B

在3:00启动任务B后:
├─ 3:00 - 4:00: 任务B ← 提前启动
├─ 4:00 - 4:30: 任务A ← 自动下移
```

---

## ⚡ 快速示例

### 示例1：提前启动
```
操作: 在3:00启动原计划6:00的任务
结果: 任务移到3:00，冲突任务下移
奖励: +40金币
```

### 示例2：提前完成
```
操作: 60分钟任务，30分钟完成
结果: 结束时间提前30分钟
奖励: +60金币 + +100金币(提前50%) = +160金币
```

### 示例3：延后启动
```
操作: 在8:00启动原计划6:00的任务
结果: 任务移到8:00
惩罚: -10金币(超时)
奖励: +40金币 - 10金币 = +30金币
```

---

## 📊 日志查看

打开浏览器控制台（F12）查看：

```javascript
🔧 调整任务启动时间: { ... }
⚠️ 发现 N 个冲突任务
📍 任务自动下移: { ... }
✅ 任务启动验证成功
💰 启动验证通过奖励：XX 金币
```

---

## ✅ 保留的功能

- ✅ 金币计算
- ✅ 验证机制
- ✅ 奖励系统
- ✅ 任务属性
- ✅ 子任务
- ✅ 图片上传
- ✅ 笔记功能

---

## ⚠️ 注意事项

1. **同一天限制** - 只处理同一天的任务
2. **已完成任务** - 不会被下移
3. **时间顺序** - 下移后按时间排列
4. **手动调整** - 可随时手动修改时间

---

## 🎓 最佳实践

### ✅ 推荐
- 随时启动任务，不必等待计划时间
- 尽量提前完成，获得额外奖励
- 查看日志了解调整情况

### ⚠️ 避免
- 频繁改变计划
- 忽略下移的任务
- 过度依赖自动调整

---

## 🐛 常见问题

**Q: 下移的任务会影响金币吗？**  
A: 不会，只改变时间，不影响金币。

**Q: 如何撤销时间调整？**  
A: 手动编辑任务，重新设置时间。

**Q: 提前完成有什么好处？**  
A: 获得额外金币奖励，最高+100%。

**Q: 系统如何找空闲时段？**  
A: 从冲突任务结束时间开始查找。

---

## 📱 快速操作

| 操作 | 快捷方式 |
|------|----------|
| 启动任务 | 点击"启动"按钮 |
| 完成任务 | 点击"完成"按钮 |
| 查看日志 | 按F12打开控制台 |
| 手动调整 | 点击任务编辑按钮 |

---

## 🚀 开始使用

1. 创建任务并设置时间
2. 随时启动任务（不必等待计划时间）
3. 系统自动调整时间和处理冲突
4. 提前完成获得额外奖励
5. 享受灵活的时间管理！

---

**版本：** 1.0.0  
**更新日期：** 2026-02-09  
**状态：** ✅ 已上线





