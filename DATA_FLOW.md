


# ğŸ”„ ManifestOS æ•°æ®æµè½¬è¯¦è§£

## ğŸ“Š æ•°æ®æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ç”¨æˆ·ç•Œé¢å±‚ (UI)                       â”‚
â”‚  CustomizableDashboard | Modules | Components          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   çŠ¶æ€ç®¡ç†å±‚ (Stores)                    â”‚
â”‚  userStore | taskStore | goalStore | growthStore       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æœåŠ¡å±‚ (Services)                      â”‚
â”‚  aiGoalMatcher | aiSmartService | voiceService         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   æ•°æ®æŒä¹…å±‚ (Storage)                   â”‚
â”‚  localStorage | Supabase (æœªæ¥) | IndexedDB            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ æ ¸å¿ƒæ•°æ®æµ

### 1. ä»»åŠ¡åˆ›å»ºæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤1: ç”¨æˆ·è¾“å…¥                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·åœ¨AIåŠ©æ‰‹ä¸­è¾“å…¥: "æ˜å¤©æ—©ä¸Š9ç‚¹å­¦ä¹ React 2å°æ—¶"
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤2: AIåˆ†æ                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
aiGoalMatcher.extractKeywords()
  â†’ æå–: ["æ˜å¤©", "æ—©ä¸Š", "9ç‚¹", "å­¦ä¹ ", "React", "2å°æ—¶"]
  
aiGoalMatcher.analyzeTaskDomain()
  â†’ è¯†åˆ«é¢†åŸŸ: ["å­¦ä¹ ", "å·¥ä½œ"]
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤3: ç›®æ ‡åŒ¹é…                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
goalStore.findMatchingGoals()
  â†’ éå†æ‰€æœ‰æ´»è·ƒç›®æ ‡
  â†’ è®¡ç®—åŒ¹é…åº¦
  â†’ è¿”å›åŒ¹é…ç»“æœ:
    [
      { goalId: "goal-1", goalName: "å­¦ä¹ å‰ç«¯å¼€å‘", confidence: 0.85 },
      { goalId: "goal-2", goalName: "æå‡ç¼–ç¨‹æŠ€èƒ½", confidence: 0.72 }
    ]
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤4: æ˜¾ç¤ºå»ºè®®                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
AISmartModule æ¸²æŸ“åŒ¹é…ç»“æœ
  â†’ æ˜¾ç¤ºç›®æ ‡åˆ—è¡¨
  â†’ æ˜¾ç¤ºåŒ¹é…åº¦å’ŒåŸå› 
  â†’ ç­‰å¾…ç”¨æˆ·ç¡®è®¤
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤5: åˆ›å»ºä»»åŠ¡                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·ç¡®è®¤ â†’ taskStore.createTask({
  title: "å­¦ä¹ React",
  scheduledStart: "æ˜å¤© 9:00",
  durationMinutes: 120,
  longTermGoals: {
    "goal-1": 85,  // 85% è´¡çŒ®åº¦
    "goal-2": 15   // 15% è´¡çŒ®åº¦
  }
})
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ­¥éª¤6: ä¿å­˜æ•°æ®                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
localStorage.setItem('tasks', JSON.stringify(tasks))
  â†’ ä»»åŠ¡å·²ä¿å­˜
  â†’ è¿”å›ä»»åŠ¡ID
```

---

### 2. ä»»åŠ¡æ‰§è¡Œæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ1: ä»»åŠ¡æé†’ (scheduled â†’ waiting_start)             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ—¶é—´åˆ°è¾¾ scheduledStart - 5åˆ†é’Ÿ
  â†“
notificationStore.addNotification({
  type: "info",
  title: "ä»»åŠ¡å³å°†å¼€å§‹",
  message: "5åˆ†é’Ÿåå¼€å§‹å­¦ä¹ React"
})
  â†“
ç”¨æˆ·ç‚¹å‡»é€šçŸ¥ â†’ è·³è½¬åˆ°ä»»åŠ¡è¯¦æƒ…

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ2: å¼€å§‹éªŒè¯ (waiting_start â†’ verifying_start)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·ç‚¹å‡»"å¼€å§‹ä»»åŠ¡"
  â†“
if (task.verificationStart) {
  æ‰“å¼€ç›¸æœº â†’ æ‹ç…§
    â†“
  AIè¯†åˆ«å…³é”®è¯: ["ç”µè„‘", "ä¹¦æœ¬", "ç¬”è®°"]
    â†“
  if (éªŒè¯é€šè¿‡) {
    taskStore.updateTask(taskId, {
      status: "in_progress",
      actualStart: new Date()
    })
  } else {
    æ‰£é™¤é‡‘å¸æƒ©ç½š
    ä»»åŠ¡å¤±è´¥
  }
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ3: æ‰§è¡Œä¸­ (in_progress)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
æ¯30åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
  â†“
å¼¹çª—: "è¿˜åœ¨å­¦ä¹ å—ï¼Ÿ"
  â†“
if (ç”¨æˆ·ç¡®è®¤) {
  ç»§ç»­è®¡æ—¶
} else if (è¶…æ—¶æœªç¡®è®¤) {
  taskStore.updateTask(taskId, {
    status: "failed"
  })
  æ‰£é™¤é‡‘å¸
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ4: å®ŒæˆéªŒè¯ (in_progress â†’ verifying_complete)      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·ç‚¹å‡»"å®Œæˆä»»åŠ¡"
  â†“
if (task.verificationComplete) {
  æ‰“å¼€ç›¸æœº â†’ æ‹ç…§
    â†“
  AIè¯†åˆ«æˆæœ: ["ç¬”è®°", "ä»£ç ", "ä½œå“"]
    â†“
  è¯„ä¼°è´¨é‡: â­â­â­â­â­ (1-5æ˜Ÿ)
    â†“
  è®¡ç®—å¥–åŠ±:
    baseGold = 50
    qualityMultiplier = stars / 5
    finalGold = baseGold * qualityMultiplier
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ5: å‘æ”¾å¥–åŠ± (verifying_complete â†’ completed)        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
// æ›´æ–°ä»»åŠ¡çŠ¶æ€
taskStore.updateTask(taskId, {
  status: "completed",
  actualEnd: new Date(),
  completionQuality: stars,
  goldEarned: finalGold
})

// å‘æ”¾é‡‘å¸
userStore.addGold(finalGold, {
  type: "earn",
  source: "task_completion",
  taskId: taskId
})

// å¢åŠ æˆé•¿å€¼
const growthPoints = calculateGrowthPoints(task)
growthStore.addGrowth(growthPoints, {
  source: "task_completion",
  taskId: taskId
})

// æ›´æ–°ç›®æ ‡è¿›åº¦
for (const [goalId, contribution] of Object.entries(task.longTermGoals)) {
  const goal = goalStore.getGoalById(goalId)
  const increment = (task.durationMinutes / 60) * (contribution / 100)
  goalStore.updateGoalProgress(goalId, goal.currentValue + increment)
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ6: æ£€æŸ¥å‡çº§                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
growthStore.checkLevelUp()
  â†“
if (totalGrowth >= nextLevelThreshold) {
  // å‡çº§ï¼
  userStore.levelUp()
  
  // æ˜¾ç¤ºå‡çº§åŠ¨ç”»
  showLevelUpAnimation()
  
  // å‘æ”¾å‡çº§å¥–åŠ±
  userStore.addGold(100, { type: "bonus", source: "level_up" })
  
  // è§£é”æ–°åŠŸèƒ½
  unlockFeatures(newLevel)
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ é˜¶æ®µ7: ç”ŸæˆæŠ¥å‘Š                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
// æ›´æ–°ä»Šæ—¥ç»Ÿè®¡
dailyReport.update({
  tasksCompleted: +1,
  goldEarned: +finalGold,
  growthPoints: +growthPoints,
  timeSpent: +task.durationMinutes
})

// æ£€æŸ¥æˆå°±
achievementStore.checkAchievements()
```

---

### 3. ç›®æ ‡è¿›åº¦æ›´æ–°æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§¦å‘æº1: ä»»åŠ¡å®Œæˆ                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ä»»åŠ¡å®Œæˆ â†’ éå†å…³è”çš„ç›®æ ‡
  â†“
for (const [goalId, contribution] of task.longTermGoals) {
  æ›´æ–°ç›®æ ‡è¿›åº¦
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è§¦å‘æº2: æ‰‹åŠ¨è®°å½•                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
ç”¨æˆ·åœ¨ç›®æ ‡è¯¦æƒ…é¡µç‚¹å‡»"è®°å½•è¿›å±•"
  â†“
goalStore.updateGoalProgress(goalId, newValue)

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ›´æ–°é€»è¾‘                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
goalStore.updateGoalProgress(goalId, newValue) {
  // 1. è·å–ç›®æ ‡
  const goal = goals.find(g => g.id === goalId)
  
  // 2. æ›´æ–°è¿›åº¦
  goal.currentValue = newValue
  goal.updatedAt = new Date()
  
  // 3. æ£€æŸ¥æ˜¯å¦å®Œæˆ
  if (newValue >= goal.targetValue) {
    goal.isCompleted = true
    goal.completedAt = new Date()
    
    // 4. å‘æ”¾å®Œæˆå¥–åŠ±
    const reward = calculateGoalReward(goal)
    userStore.addGold(reward.gold)
    growthStore.addGrowth(reward.growth)
    
    // 5. æ˜¾ç¤ºåº†ç¥åŠ¨ç”»
    showGoalAchievementAnimation(goal)
    
    // 6. è§£é”æˆå°±
    achievementStore.unlock(`goal_${goal.goalType}_completed`)
  }
  
  // 7. ä¿å­˜åˆ°å­˜å‚¨
  localStorage.setItem('goals', JSON.stringify(goals))
  
  // 8. è§¦å‘UIæ›´æ–°
  notifySubscribers()
}
```

---

### 4. é‡‘å¸æµè½¬æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¶å…¥æ¥æº                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1. ä»»åŠ¡å®Œæˆ â†’ +50-500é‡‘å¸
2. ç›®æ ‡è¾¾æˆ â†’ +100-1000é‡‘å¸
3. æ¯æ—¥ç­¾åˆ° â†’ +10-100é‡‘å¸
4. æˆå°±è§£é” â†’ +50-500é‡‘å¸
5. è¿ç»­å®Œæˆ â†’ +20-200é‡‘å¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ”¯å‡ºç”¨é€”                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
1. å…‘æ¢å¥–åŠ± â†’ -100-1000é‡‘å¸
2. ä»»åŠ¡å¤±è´¥ â†’ -50é‡‘å¸
3. éªŒè¯å¤±è´¥ â†’ -30é‡‘å¸
4. åä¹ æƒ¯ â†’ -20é‡‘å¸

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ äº¤æ˜“è®°å½•                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
userStore.addGold(amount, metadata) {
  // 1. æ›´æ–°ä½™é¢
  const oldBalance = user.goldBalance
  const newBalance = oldBalance + amount
  user.goldBalance = newBalance
  
  // 2. è®°å½•äº¤æ˜“
  const transaction = {
    id: `tx-${Date.now()}`,
    amount: amount,
    type: amount > 0 ? "earn" : "spend",
    balanceBefore: oldBalance,
    balanceAfter: newBalance,
    metadata: metadata,
    timestamp: new Date()
  }
  
  goldTransactions.push(transaction)
  
  // 3. ä¿å­˜
  localStorage.setItem('user', JSON.stringify(user))
  localStorage.setItem('gold_transactions', JSON.stringify(goldTransactions))
  
  // 4. æ˜¾ç¤ºåŠ¨ç”»
  if (amount > 0) {
    showGoldEarnAnimation(amount)
  }
  
  // 5. è§¦å‘é€šçŸ¥
  notificationStore.add({
    type: amount > 0 ? "success" : "warning",
    message: `${amount > 0 ? '+' : ''}${amount} é‡‘å¸`
  })
}
```

---

### 5. æˆé•¿å€¼è®¡ç®—æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ åŸºç¡€è®¡ç®—                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
baseGrowth = task.durationMinutes / 6  // æ¯å°æ—¶10ç‚¹

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ éš¾åº¦ç³»æ•°                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
difficultyMultiplier = {
  P1: 2.0,   // æœ€é«˜ä¼˜å…ˆçº§
  P2: 1.5,
  P3: 1.2,
  P4: 1.0    // æœ€ä½ä¼˜å…ˆçº§
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è´¨é‡ç³»æ•°                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
qualityMultiplier = task.completionQuality / 5
// 5æ˜Ÿ = 1.0, 4æ˜Ÿ = 0.8, 3æ˜Ÿ = 0.6, 2æ˜Ÿ = 0.4, 1æ˜Ÿ = 0.2

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ è¿ç»­å®ŒæˆåŠ æˆ                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
streakBonus = {
  3å¤©: 1.1,   // +10%
  7å¤©: 1.2,   // +20%
  30å¤©: 1.3   // +30%
}

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æœ€ç»ˆè®¡ç®—                                                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
finalGrowth = baseGrowth 
            Ã— difficultyMultiplier 
            Ã— qualityMultiplier 
            Ã— streakBonus

ç¤ºä¾‹:
  ä»»åŠ¡æ—¶é•¿: 120åˆ†é’Ÿ
  ä¼˜å…ˆçº§: P1
  å®Œæˆè´¨é‡: 5æ˜Ÿ
  è¿ç»­å®Œæˆ: 7å¤©
  
  è®¡ç®—:
    baseGrowth = 120 / 6 = 20
    Ã— 2.0 (P1éš¾åº¦)
    Ã— 1.0 (5æ˜Ÿè´¨é‡)
    Ã— 1.2 (7å¤©è¿ç»­)
    = 48 æˆé•¿å€¼
```

---

## ğŸ“¦ Store è¯¦ç»†è¯´æ˜

### userStore

```typescript
interface UserState {
  // åŸºç¡€ä¿¡æ¯
  id: string
  name: string
  avatar: string
  
  // é‡‘å¸ç³»ç»Ÿ
  goldBalance: number
  goldEarned: number
  goldSpent: number
  
  // æˆé•¿ç³»ç»Ÿ
  totalGrowth: number
  currentLevel: number
  levelName: string
  
  // ç»Ÿè®¡æ•°æ®
  tasksCompleted: number
  goalsAchieved: number
  consecutiveDays: number
  
  // è®¾ç½®
  settings: UserSettings
}

// ä¸»è¦æ–¹æ³•
- loadUser(): åŠ è½½ç”¨æˆ·æ•°æ®
- updateProfile(): æ›´æ–°ä¸ªäººä¿¡æ¯
- addGold(): å¢åŠ /å‡å°‘é‡‘å¸
- addGrowth(): å¢åŠ æˆé•¿å€¼
- levelUp(): å‡çº§
- updateSettings(): æ›´æ–°è®¾ç½®
```

### taskStore

```typescript
interface TaskState {
  tasks: Task[]
  selectedTask: Task | null
  isLoading: boolean
  error: string | null
}

// ä¸»è¦æ–¹æ³•
- loadTasks(): åŠ è½½ä»»åŠ¡åˆ—è¡¨
- createTask(): åˆ›å»ºæ–°ä»»åŠ¡
- updateTask(): æ›´æ–°ä»»åŠ¡
- deleteTask(): åˆ é™¤ä»»åŠ¡
- startTask(): å¼€å§‹ä»»åŠ¡
- completeTask(): å®Œæˆä»»åŠ¡
- getTasksByDate(): æŒ‰æ—¥æœŸæŸ¥è¯¢
- getTasksByStatus(): æŒ‰çŠ¶æ€æŸ¥è¯¢
```

### goalStore

```typescript
interface GoalState {
  goals: LongTermGoal[]
  isLoading: boolean
  error: string | null
}

// ä¸»è¦æ–¹æ³•
- loadGoals(): åŠ è½½ç›®æ ‡åˆ—è¡¨
- createGoal(): åˆ›å»ºæ–°ç›®æ ‡
- updateGoal(): æ›´æ–°ç›®æ ‡
- deleteGoal(): åˆ é™¤ç›®æ ‡
- updateGoalProgress(): æ›´æ–°è¿›åº¦
- findMatchingGoals(): æ™ºèƒ½åŒ¹é…
- getActiveGoals(): è·å–æ´»è·ƒç›®æ ‡
```

### growthStore

```typescript
interface GrowthState {
  dimensions: GrowthDimension[]
  totalGrowth: number
  currentLevel: IdentityLevel
  levels: IdentityLevel[]
}

// ä¸»è¦æ–¹æ³•
- loadGrowthData(): åŠ è½½æˆé•¿æ•°æ®
- updateDimension(): æ›´æ–°ç»´åº¦
- addGrowth(): å¢åŠ æˆé•¿å€¼
- checkLevelUp(): æ£€æŸ¥å‡çº§
- getGrowthHistory(): è·å–å†å²
```

---

## ğŸ”„ å®æ—¶åŒæ­¥æœºåˆ¶

### æœ¬åœ°å­˜å‚¨ç­–ç•¥

```typescript
// 1. ç«‹å³ä¿å­˜
function saveToLocalStorage(key: string, data: any) {
  localStorage.setItem(key, JSON.stringify(data))
}

// 2. é˜²æŠ–ä¿å­˜ (é¿å…é¢‘ç¹å†™å…¥)
const debouncedSave = debounce(saveToLocalStorage, 1000)

// 3. æ‰¹é‡ä¿å­˜
function batchSave(updates: Record<string, any>) {
  Object.entries(updates).forEach(([key, value]) => {
    localStorage.setItem(key, JSON.stringify(value))
  })
}
```

### æ•°æ®åŒæ­¥æµç¨‹

```
ç”¨æˆ·æ“ä½œ
  â†“
æ›´æ–° Store çŠ¶æ€
  â†“
è§¦å‘è®¢é˜…è€… (UIç»„ä»¶)
  â†“
UI é‡æ–°æ¸²æŸ“
  â†“
ä¿å­˜åˆ° localStorage
  â†“
(æœªæ¥) åŒæ­¥åˆ°äº‘ç«¯
```

---

## ğŸ¯ å…³é”®æ•°æ®ç»“æ„

### Task (ä»»åŠ¡)

```typescript
{
  id: "task-1234567890",
  userId: "user-123",
  title: "å­¦ä¹ React Hooks",
  description: "æ·±å…¥å­¦ä¹ useStateå’ŒuseEffect",
  taskType: "study",
  priority: 1,
  durationMinutes: 120,
  scheduledStart: "2025-01-24T09:00:00",
  scheduledEnd: "2025-01-24T11:00:00",
  actualStart: "2025-01-24T09:05:00",
  actualEnd: "2025-01-24T11:10:00",
  
  // æˆé•¿å…³è”
  growthDimensions: {
    "dim-learning": 10,
    "dim-work": 5
  },
  
  // ç›®æ ‡å…³è”
  longTermGoals: {
    "goal-frontend": 85,
    "goal-programming": 15
  },
  
  // èº«ä»½æ ‡ç­¾
  identityTags: ["ç¨‹åºå‘˜", "å­¦ä¹ è€…"],
  
  // é˜²æ‹–å»¶
  verificationStart: {
    type: "photo",
    keywords: ["ç”µè„‘", "ä¹¦æœ¬"],
    timeout: 300
  },
  verificationComplete: {
    type: "photo",
    keywords: ["ç¬”è®°", "ä»£ç "],
    timeout: 300
  },
  enableProgressCheck: true,
  progressChecks: [
    { checkTime: "2025-01-24T09:30:00", passed: true },
    { checkTime: "2025-01-24T10:00:00", passed: true }
  ],
  
  // çŠ¶æ€
  status: "completed",
  completionQuality: 5,
  goldEarned: 75,
  penaltyGold: 0,
  
  createdAt: "2025-01-23T20:00:00",
  updatedAt: "2025-01-24T11:10:00"
}
```

### LongTermGoal (é•¿æœŸç›®æ ‡)

```typescript
{
  id: "goal-1234567890",
  userId: "user-123",
  name: "å­¦ä¹ å‰ç«¯å¼€å‘",
  description: "ç³»ç»Ÿå­¦ä¹ Reactã€Vueç­‰å‰ç«¯æŠ€æœ¯æ ˆ",
  goalType: "numeric",
  targetValue: 100,
  currentValue: 85,
  unit: "å°æ—¶",
  deadline: "2025-02-28T23:59:59",
  
  // å…³è”ç»´åº¦
  relatedDimensions: ["dim-learning", "dim-work"],
  
  // é‡Œç¨‹ç¢‘
  milestones: [
    { id: "m1", name: "å®ŒæˆåŸºç¡€å­¦ä¹ ", targetValue: 30, isReached: true },
    { id: "m2", name: "å®Œæˆè¿›é˜¶å­¦ä¹ ", targetValue: 60, isReached: true },
    { id: "m3", name: "å®Œæˆå®æˆ˜é¡¹ç›®", targetValue: 100, isReached: false }
  ],
  
  isActive: true,
  isCompleted: false,
  completedAt: null,
  
  createdAt: "2025-01-01T00:00:00",
  updatedAt: "2025-01-24T11:10:00"
}
```

---

## ğŸ“ˆ æ€§èƒ½ä¼˜åŒ–

### 1. æ•°æ®ç¼“å­˜

```typescript
// ç¼“å­˜è®¡ç®—ç»“æœ
const memoizedGoalProgress = useMemo(() => {
  return calculateGoalProgress(goal)
}, [goal.currentValue, goal.targetValue])

// ç¼“å­˜åŒ¹é…ç»“æœ
const cachedMatches = new Map<string, GoalMatchResult[]>()
```

### 2. æ‡’åŠ è½½

```typescript
// æŒ‰éœ€åŠ è½½å†å²æ•°æ®
const loadHistory = async (type: string) => {
  if (!historyCache[type]) {
    historyCache[type] = await fetchHistory(type)
  }
  return historyCache[type]
}
```

### 3. è™šæ‹Ÿæ»šåŠ¨

```typescript
// å¤§åˆ—è¡¨ä¼˜åŒ–
<VirtualList
  items={tasks}
  itemHeight={80}
  renderItem={(task) => <TaskCard task={task} />}
/>
```

---

## ğŸ” æ•°æ®å®‰å…¨

### 1. æ•°æ®éªŒè¯

```typescript
// è¾“å…¥éªŒè¯
function validateTask(task: Partial<Task>): boolean {
  if (!task.title || task.title.length === 0) return false
  if (task.durationMinutes && task.durationMinutes < 0) return false
  if (task.priority && ![1,2,3,4].includes(task.priority)) return false
  return true
}
```

### 2. æ•°æ®åŠ å¯† (æœªæ¥)

```typescript
// æ•æ„Ÿæ•°æ®åŠ å¯†
function encryptData(data: any): string {
  return CryptoJS.AES.encrypt(
    JSON.stringify(data),
    userEncryptionKey
  ).toString()
}
```

### 3. å¤‡ä»½æ¢å¤

```typescript
// å¯¼å‡ºæ•°æ®
function exportData(): string {
  return JSON.stringify({
    user: userStore.getState(),
    tasks: taskStore.getState().tasks,
    goals: goalStore.getState().goals,
    growth: growthStore.getState(),
    timestamp: new Date()
  })
}

// å¯¼å…¥æ•°æ®
function importData(jsonString: string) {
  const data = JSON.parse(jsonString)
  userStore.setState(data.user)
  taskStore.setState({ tasks: data.tasks })
  goalStore.setState({ goals: data.goals })
  growthStore.setState(data.growth)
}
```

---

**æœ€åæ›´æ–°**: 2025-01-23
**ç‰ˆæœ¬**: v1.0.0

