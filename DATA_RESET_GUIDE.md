# æ•°æ®é‡ç½®æŒ‡å—

## ğŸ“‹ æ¦‚è¿°

æœ¬æŒ‡å—å°†å¸®åŠ©æ‚¨å°†ç½‘ç«™çš„æ‰€æœ‰æ•°æ®é‡ç½®ä¸ºåˆå§‹çŠ¶æ€ï¼ŒåŒ…æ‹¬ï¼š
- âœ… ä»»åŠ¡æ•°æ®
- âœ… æˆé•¿ç³»ç»Ÿæ•°æ®
- âœ… é‡‘å¸ç»æµæ•°æ®
- âœ… åä¹ æƒ¯æ•°æ®
- âœ… å‰¯ä¸šè¿½è¸ªæ•°æ®
- âœ… è®°å¿†/æ—¥è®°æ•°æ®
- âœ… é€šçŸ¥æ•°æ®

## âš ï¸ é‡è¦è­¦å‘Š

**æ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰æ•°æ®ï¼Œæ— æ³•æ¢å¤ï¼è¯·ç¡®ä¿ï¼š**
1. å·²å¤‡ä»½é‡è¦æ•°æ®
2. ç¡®è®¤è¦æ¸…ç©ºæ‰€æœ‰æ•°æ®
3. äº†è§£æ­¤æ“ä½œçš„åæœ

## ğŸ”„ é‡ç½®æ–¹æ³•

### æ–¹æ³•ä¸€ï¼šå®Œå…¨é‡ç½®ï¼ˆæ¨èï¼‰

#### æ­¥éª¤ 1ï¼šé‡ç½®äº‘ç«¯æ•°æ®ï¼ˆSupabaseï¼‰

1. æ‰“å¼€ Supabase æ§åˆ¶å°
2. è¿›å…¥ SQL Editor
3. å¤åˆ¶ `supabase_reset_all_data.sql` çš„å†…å®¹
4. ç²˜è´´åˆ° SQL Editor
5. ç‚¹å‡» "Run" æ‰§è¡Œ

**æˆ–è€…ä½¿ç”¨å‘½ä»¤è¡Œï¼š**
```bash
psql -h your-project.supabase.co -U postgres -d postgres -f supabase_reset_all_data.sql
```

#### æ­¥éª¤ 2ï¼šé‡ç½®æœ¬åœ°æ•°æ®ï¼ˆlocalStorageï¼‰

1. æ‰“å¼€ç½‘ç«™
2. æŒ‰ F12 æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°
3. å¤åˆ¶ `reset_local_storage.js` çš„å†…å®¹
4. ç²˜è´´åˆ°æ§åˆ¶å°
5. æŒ‰å›è½¦æ‰§è¡Œ
6. ç‚¹å‡»"ç¡®å®š"åˆ·æ–°é¡µé¢

#### æ­¥éª¤ 3ï¼šéªŒè¯é‡ç½®

åˆ·æ–°é¡µé¢åï¼Œæ£€æŸ¥ä»¥ä¸‹å†…å®¹ï¼š
- [ ] ä»»åŠ¡åˆ—è¡¨ä¸ºç©º
- [ ] é‡‘å¸ä½™é¢ä¸º 0
- [ ] æˆé•¿å€¼ä¸º 0
- [ ] é•¿æœŸç›®æ ‡åˆ—è¡¨ä¸ºç©º
- [ ] å‰¯ä¸šåˆ—è¡¨ä¸ºç©º
- [ ] åä¹ æƒ¯åˆ—è¡¨ä¸ºç©º

### æ–¹æ³•äºŒï¼šä»…é‡ç½®æœ¬åœ°æ•°æ®

å¦‚æœæ‚¨åªæƒ³é‡ç½®æœ¬åœ°æ•°æ®ï¼ˆä¸å½±å“äº‘ç«¯ï¼‰ï¼š

1. æ‰“å¼€æµè§ˆå™¨æ§åˆ¶å°ï¼ˆF12ï¼‰
2. æ‰§è¡Œ `reset_local_storage.js` è„šæœ¬
3. åˆ·æ–°é¡µé¢

### æ–¹æ³•ä¸‰ï¼šä»…é‡ç½®äº‘ç«¯æ•°æ®

å¦‚æœæ‚¨åªæƒ³é‡ç½®äº‘ç«¯æ•°æ®ï¼ˆä¸å½±å“æœ¬åœ°ï¼‰ï¼š

1. åœ¨ Supabase æ‰§è¡Œ `supabase_reset_all_data.sql`
2. åˆ·æ–°é¡µé¢ï¼ˆä¼šè‡ªåŠ¨åŒæ­¥ï¼‰

### æ–¹æ³•å››ï¼šæ‰‹åŠ¨æ¸…ç©ºæµè§ˆå™¨æ•°æ®

1. æ‰“å¼€æµè§ˆå™¨è®¾ç½®
2. è¿›å…¥"éšç§å’Œå®‰å…¨"
3. ç‚¹å‡»"æ¸…é™¤æµè§ˆæ•°æ®"
4. é€‰æ‹©ï¼š
   - âœ… Cookie å’Œå…¶ä»–ç½‘ç«™æ•°æ®
   - âœ… ç¼“å­˜çš„å›¾ç‰‡å’Œæ–‡ä»¶
   - âœ… ç½‘ç«™è®¾ç½®
5. æ—¶é—´èŒƒå›´é€‰æ‹©"å…¨éƒ¨æ—¶é—´"
6. ç‚¹å‡»"æ¸…é™¤æ•°æ®"

## ğŸ“ é‡ç½®è„šæœ¬è¯´æ˜

### supabase_reset_all_data.sql

æ­¤è„šæœ¬å°†æ¸…ç©ºä»¥ä¸‹æ•°æ®åº“è¡¨ï¼š

```sql
-- ä»»åŠ¡ç›¸å…³
DELETE FROM tasks;
DELETE FROM task_inbox;

-- æˆé•¿ç³»ç»Ÿ
DELETE FROM growth_dimensions;
DELETE FROM long_term_goals;
DELETE FROM growth_records;

-- é‡‘å¸ç»æµ
DELETE FROM gold_transactions;
DELETE FROM reward_items;
UPDATE users SET gold_balance = 0;

-- åä¹ æƒ¯
DELETE FROM bad_habits;
DELETE FROM bad_habit_occurrences;

-- å‰¯ä¸šè¿½è¸ª
DELETE FROM side_hustles;
DELETE FROM income_records;
DELETE FROM expense_records;
DELETE FROM time_records;
DELETE FROM debt_records;

-- å…¶ä»–
DELETE FROM memories;
DELETE FROM journals;
DELETE FROM notifications;
DELETE FROM sync_logs;
```

### reset_local_storage.js

æ­¤è„šæœ¬å°†æ¸…ç©ºä»¥ä¸‹æœ¬åœ°å­˜å‚¨ï¼š

```javascript
// localStorage keys
- task-storage
- growth-storage
- goal-storage
- gold-storage
- side-hustle-storage
- memory-storage
- journal-storage
- habit-storage
- notification-storage
- ai-storage

// sessionStorage
- å…¨éƒ¨æ¸…ç©º

// IndexedDB
- å…¨éƒ¨æ¸…ç©º
```

## ğŸ¯ åˆ†ç»„ä»¶é‡ç½®

å¦‚æœæ‚¨åªæƒ³é‡ç½®ç‰¹å®šç»„ä»¶çš„æ•°æ®ï¼š

### ä»…é‡ç½®é‡‘å¸ç»æµ

**Supabase:**
```sql
DELETE FROM gold_transactions;
DELETE FROM reward_items;
DELETE FROM reward_redemptions;
UPDATE users SET gold_balance = 0;
```

**localStorage:**
```javascript
localStorage.removeItem('gold-storage');
localStorage.removeItem('user-storage');
```

### ä»…é‡ç½®åä¹ æƒ¯

**Supabase:**
```sql
DELETE FROM bad_habits;
DELETE FROM bad_habit_occurrences;
```

**localStorage:**
```javascript
localStorage.removeItem('habit-storage');
```

### ä»…é‡ç½®å‰¯ä¸šè¿½è¸ª

**Supabase:**
```sql
DELETE FROM side_hustles;
DELETE FROM income_records;
DELETE FROM expense_records;
DELETE FROM time_records;
DELETE FROM debt_records;
```

**localStorage:**
```javascript
localStorage.removeItem('side-hustle-storage');
```

### ä»…é‡ç½®ä»»åŠ¡

**Supabase:**
```sql
DELETE FROM tasks;
DELETE FROM task_inbox;
```

**localStorage:**
```javascript
localStorage.removeItem('task-storage');
localStorage.removeItem('task_inbox');
```

### ä»…é‡ç½®æˆé•¿ç³»ç»Ÿ

**Supabase:**
```sql
DELETE FROM growth_dimensions;
DELETE FROM long_term_goals;
DELETE FROM growth_records;
DELETE FROM growth_history;
```

**localStorage:**
```javascript
localStorage.removeItem('growth-storage');
localStorage.removeItem('goal-storage');
```

## ğŸ”§ å¿«é€Ÿé‡ç½®å‘½ä»¤

### æµè§ˆå™¨æ§åˆ¶å°ä¸€é”®é‡ç½®

å¤åˆ¶ä»¥ä¸‹ä»£ç åˆ°æµè§ˆå™¨æ§åˆ¶å°ï¼š

```javascript
// å¿«é€Ÿé‡ç½®æ‰€æœ‰æœ¬åœ°æ•°æ®
['task-storage', 'growth-storage', 'goal-storage', 'gold-storage', 'side-hustle-storage', 'memory-storage', 'journal-storage', 'habit-storage', 'notification-storage', 'ai-storage', 'user-storage'].forEach(key => localStorage.removeItem(key));
sessionStorage.clear();
alert('æœ¬åœ°æ•°æ®å·²é‡ç½®ï¼');
location.reload();
```

### ä»…é‡ç½®é‡‘å¸å’Œåä¹ æƒ¯

```javascript
// ä»…é‡ç½®é‡‘å¸å’Œåä¹ æƒ¯
['gold-storage', 'habit-storage', 'user-storage'].forEach(key => localStorage.removeItem(key));
alert('é‡‘å¸å’Œåä¹ æƒ¯æ•°æ®å·²é‡ç½®ï¼');
location.reload();
```

## ğŸ“Š é‡ç½®åçš„åˆå§‹çŠ¶æ€

é‡ç½®å®Œæˆåï¼Œå„ç»„ä»¶å°†æ¢å¤åˆ°ä»¥ä¸‹çŠ¶æ€ï¼š

### é‡‘å¸ç»æµ
- é‡‘å¸ä½™é¢ï¼š0
- äº¤æ˜“è®°å½•ï¼šç©º
- å¥–åŠ±å•†å“ï¼šç©º

### åä¹ æƒ¯
- ä¹ æƒ¯åˆ—è¡¨ï¼šç©º
- å‘ç”Ÿè®°å½•ï¼šç©º
- è¿ç»­å¤©æ•°ï¼š0

### å‰¯ä¸šè¿½è¸ª
- å‰¯ä¸šåˆ—è¡¨ï¼šç©º
- æ”¶å…¥è®°å½•ï¼šç©º
- æ”¯å‡ºè®°å½•ï¼šç©º
- æ—¶é—´è®°å½•ï¼šç©º
- è´Ÿå€ºè®°å½•ï¼šç©º

### ä»»åŠ¡ç®¡ç†
- ä»»åŠ¡åˆ—è¡¨ï¼šç©º
- æ”¶é›†ç®±ï¼šç©º

### æˆé•¿ç³»ç»Ÿ
- æˆé•¿ç»´åº¦ï¼šç©º
- é•¿æœŸç›®æ ‡ï¼šç©º
- æˆé•¿è®°å½•ï¼šç©º
- ç­‰çº§ï¼š1

### è®°å¿†/æ—¥è®°
- è®°å¿†åˆ—è¡¨ï¼šç©º
- æ—¥è®°åˆ—è¡¨ï¼šç©º

## ğŸ›¡ï¸ æ•°æ®å¤‡ä»½å»ºè®®

åœ¨é‡ç½®ä¹‹å‰ï¼Œå»ºè®®å…ˆå¤‡ä»½æ•°æ®ï¼š

### æ–¹æ³• 1ï¼šå¯¼å‡º Supabase æ•°æ®

```bash
# å¯¼å‡ºæ‰€æœ‰è¡¨
pg_dump -h your-project.supabase.co -U postgres -d postgres > backup.sql
```

### æ–¹æ³• 2ï¼šå¯¼å‡º localStorage

```javascript
// å¯¼å‡ºæ‰€æœ‰ localStorage æ•°æ®
const backup = {};
for (let i = 0; i < localStorage.length; i++) {
  const key = localStorage.key(i);
  backup[key] = localStorage.getItem(key);
}
console.log(JSON.stringify(backup));
// å¤åˆ¶è¾“å‡ºçš„ JSON ä¿å­˜åˆ°æ–‡ä»¶
```

### æ–¹æ³• 3ï¼šä½¿ç”¨æµè§ˆå™¨å¼€å‘è€…å·¥å…·

1. F12 æ‰“å¼€å¼€å‘è€…å·¥å…·
2. Application â†’ Storage
3. å³é”® â†’ Export

## â“ å¸¸è§é—®é¢˜

### Q1: é‡ç½®åæ•°æ®è¿˜åœ¨ï¼Ÿ

**A:** å¯èƒ½çš„åŸå› ï¼š
1. åªé‡ç½®äº†æœ¬åœ°æ•°æ®ï¼Œæ²¡æœ‰é‡ç½®äº‘ç«¯æ•°æ®
2. æµè§ˆå™¨ç¼“å­˜æœªæ¸…ç©º
3. éœ€è¦å¼ºåˆ¶åˆ·æ–°ï¼ˆCtrl+Shift+Rï¼‰

**è§£å†³æ–¹æ³•ï¼š**
1. åŒæ—¶æ‰§è¡Œ SQL è„šæœ¬å’Œ JS è„šæœ¬
2. æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜
3. å¼ºåˆ¶åˆ·æ–°é¡µé¢

### Q2: å¯ä»¥æ¢å¤é‡ç½®çš„æ•°æ®å—ï¼Ÿ

**A:** ä¸å¯ä»¥ã€‚æ•°æ®ä¸€æ—¦åˆ é™¤æ— æ³•æ¢å¤ï¼Œé™¤éæ‚¨æå‰åšäº†å¤‡ä»½ã€‚

### Q3: é‡ç½®ä¼šå½±å“ç”¨æˆ·è´¦å·å—ï¼Ÿ

**A:** ä¸ä¼šã€‚é‡ç½®åªåˆ é™¤æ•°æ®ï¼Œä¸ä¼šåˆ é™¤ç”¨æˆ·è´¦å·ã€‚

### Q4: å¯ä»¥åªé‡ç½®éƒ¨åˆ†æ•°æ®å—ï¼Ÿ

**A:** å¯ä»¥ã€‚å‚è€ƒ"åˆ†ç»„ä»¶é‡ç½®"éƒ¨åˆ†ï¼Œé€‰æ‹©æ€§æ‰§è¡Œå¯¹åº”çš„ SQL å’Œ JS ä»£ç ã€‚

### Q5: é‡ç½®åéœ€è¦é‡æ–°é…ç½®å—ï¼Ÿ

**A:** éƒ¨åˆ†è®¾ç½®å¯èƒ½éœ€è¦é‡æ–°é…ç½®ï¼š
- API Key
- ç”¨æˆ·åå¥½è®¾ç½®
- ä¸»é¢˜é¢œè‰²
- é€šçŸ¥è®¾ç½®

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼š
1. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°æ˜¯å¦æœ‰é”™è¯¯
2. ç¡®è®¤ Supabase è¿æ¥æ­£å¸¸
3. å°è¯•æ¸…ç©ºæµè§ˆå™¨ç¼“å­˜
4. é‡å¯æµè§ˆå™¨

## âœ… é‡ç½®æ£€æŸ¥æ¸…å•

å®Œæˆé‡ç½®åï¼Œè¯·æ£€æŸ¥ï¼š

- [ ] æ‰“å¼€ç½‘ç«™ï¼Œæ‰€æœ‰æ•°æ®ä¸ºç©º
- [ ] é‡‘å¸ä½™é¢æ˜¾ç¤ºä¸º 0
- [ ] ä»»åŠ¡åˆ—è¡¨ä¸ºç©º
- [ ] å‰¯ä¸šåˆ—è¡¨ä¸ºç©º
- [ ] æˆé•¿å€¼ä¸º 0
- [ ] é•¿æœŸç›®æ ‡ä¸ºç©º
- [ ] åä¹ æƒ¯åˆ—è¡¨ä¸ºç©º
- [ ] è®°å¿†/æ—¥è®°ä¸ºç©º
- [ ] é€šçŸ¥åˆ—è¡¨ä¸ºç©º

å¦‚æœä»¥ä¸Šéƒ½ç¡®è®¤æ— è¯¯ï¼Œè¯´æ˜é‡ç½®æˆåŠŸï¼

---

**é‡ç½®å®Œæˆåï¼Œæ‚¨å¯ä»¥é‡æ–°å¼€å§‹ä½¿ç”¨ç½‘ç«™ï¼Œæ‰€æœ‰æ•°æ®éƒ½æ˜¯å…¨æ–°çš„ï¼ğŸ‰**

