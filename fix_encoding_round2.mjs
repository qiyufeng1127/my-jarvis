import fs from 'fs';

const filePath = 'src/components/calendar/NewTimelineView.tsx';

// 读取文件
let content = fs.readFileSync(filePath, 'utf8');

// 更完整的乱码映射
const replacements = {
  '保存�ѹ�ȥ��ť': '今日已过去按钮',
  '保存保存һЩ保存保存保存ʾ��ϸͳ��': '可以添加一些交互，比如显示详细统计',
  '保存�Ѿ���ȥ��': '今天已经过去了',
  '保存�ѹ�ȥ': '今日已过去',
  'NOWʱ保存': 'NOW时间线',
  '保存': '分钟',
  
  // 其他可能的乱码
  '�����������': '今日结束还剩',
  '������': '间隔',
  '������': '新任务',
  '���������': '添加任务',
  '�����û������': '今天还没有任务',
  '�����·���ť���ӵ�һ������': '点击下方按钮添加第一个任务',
  '�������': '任务标题',
  '��������': '任务描述',
  '��ϸ�����������': '详细描述任务内容...',
  'ʱ���ʱ��': '时间和时长',
  'ʱ�������ӣ�': '时长（分钟）',
  '�����±�ǩ': '输入新标签',
  '����Ŀ��': '关联目标',
  '���磺����5w�����100��': '例如：月入5w、坚持100天',
  '���磺���������ҡ��칫��': '例如：厨房、卧室、办公室',
  'ȷ��Ҫɾ�����������': '确定要删除这个任务吗',
  '�����������ʣ��ʱ��': '今日结束剩余时间',
  '�����ѹ�ȥ��ʾ': '今日已过去提示',
  '���ʱ�����': '左侧时间对齐',
  '�����༭����': '完整编辑功能',
  '��ʼ���༭����': '初始化编辑数据',
  '�༭����': '编辑任务',
  'չ�����������������ļ�': '展开区域：子任务和文件',
  '��Ƭ��������ʾ��Ƭ����': '照片任务：显示照片网格',
  '��������': '子任务',
  '��Ƭ����': '照片任务',
  '��ʾ��Ƭ����': '显示照片网格',
  'չ�����': '展开区域',
  '����������֤': '启用智能验证',
  '״ָ̬ʾ��': '状态指示器',
  '����': '启用',
};

// 执行替换
let modified = false;
for (const [oldText, newText] of Object.entries(replacements)) {
  if (content.includes(oldText)) {
    content = content.split(oldText).join(newText);
    console.log(`替换: ${oldText.substring(0, 30)}... -> ${newText}`);
    modified = true;
  }
}

if (modified) {
  // 保存文件
  fs.writeFileSync(filePath, content, 'utf8');
  console.log('\n✓ 文件已修复并保存');
} else {
  console.log('未找到需要替换的乱码');
}

