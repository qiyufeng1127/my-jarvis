# 🎤 Kiki 宝宝语音助手使用指南

## 概述

Kiki 宝宝是 ManifestOS 的智能语音助手，支持自然语言交互，帮助你更高效地管理任务、查询成长数据、控制系统功能，并提供情感支持。

## 功能特性

### ✨ 核心功能

1. **语音唤醒**
   - 点击右下角 🎤 图标
   - 或直接说"Kiki宝宝"
   - 唤醒后进入 8 秒待命状态

2. **自然语言理解**
   - 支持完整句子，无需特定格式
   - 智能解析时间、时长等信息
   - 上下文理解能力

3. **多轮对话**
   - 引导式交互
   - 分步骤完成复杂操作
   - 智能追问和确认

4. **语音反馈**
   - 成功操作：积极肯定
   - 失败操作：鼓励 + 建议
   - 重要提醒：清晰强调
   - 日常交互：自然对话

## 语音指令分类

### 📋 任务管理指令

| 指令 | 说明 | 示例 |
|------|------|------|
| 创建任务：[描述] | 创建新任务 | "创建任务：下午3点开始写项目报告，需要2小时" |
| 查看今天的任务 | 查看今日任务列表 | "查看今天的任务" |
| 我现在应该做什么 | 获取当前应执行的任务 | "我现在应该做什么" |
| 删除任务：[名称] | 删除指定任务 | "删除任务：写报告" |
| 修改任务：[名称] 为 [时间] | 修改任务时间 | "修改任务：写报告 改为下午5点" |

### 📊 成长查询指令

| 指令 | 说明 |
|------|------|
| 我的成长进度 | 查看总体成长值 |
| 专注力现在多少了 | 查看专注力维度 |
| 执行力现在多少了 | 查看执行力维度 |
| 健康力现在多少了 | 查看健康力维度 |
| 财富力现在多少了 | 查看财富力维度 |
| 魅力值现在多少了 | 查看魅力值维度 |
| 离月入10万还有多远 | 查看长期目标进度 |
| 播放今天的成长故事 | 生成并播放成长故事 |
| 我的坏习惯情况 | 查看坏习惯追踪 |

### ⚙️ 系统控制指令

| 指令 | 说明 | 示例 |
|------|------|------|
| 开始专注模式 | 启动专注模式 | "开始专注模式" |
| 暂停[时长] | 暂停当前任务 | "暂停10分钟" |
| 跳过这个任务 | 跳过当前任务 | "跳过这个任务" |
| 兑换奖励：[名称] | 使用金币兑换奖励 | "兑换奖励：一杯奶茶" |
| 设置提醒：[内容] | 设置定时提醒 | "设置提醒：下午3点开会" |

### ❤️ 情感支持指令

| 指令 | 说明 |
|------|------|
| 我不想工作了 | 获得情感支持和建议 |
| 我感觉很累 | 获得休息建议和鼓励 |
| 给我一点鼓励 | Kiki 会给你加油打气 |
| 庆祝一下 | 庆祝你的成就 |
| 讲个笑话 | Kiki 会讲笑话让你放松 |

## 使用技巧

### 🎯 最佳实践

1. **清晰表达**
   - 说话清晰，语速适中
   - 避免环境噪音干扰
   - 使用完整句子

2. **时间表达**
   - 支持："下午3点"、"15:00"、"明天上午9点"
   - 支持："需要2小时"、"大约30分钟"

3. **任务描述**
   - 尽量具体："写项目报告" 优于 "工作"
   - 包含关键信息：时间、时长、内容

4. **多轮对话**
   - 如果 Kiki 追问，直接回答即可
   - 可以随时纠正和修改
   - 说"取消"可以中止操作

### ⚡ 快捷技巧

- **快速创建任务**：直接说完整信息
  - "创建任务：明天下午2点开会，需要1小时"
  
- **快速查询**：使用简短指令
  - "今天的任务"
  - "我的成长"
  - "专注力多少"

- **情感交互**：随时表达感受
  - "我累了"
  - "给我鼓励"
  - "庆祝一下"

## 界面说明

### 🎨 视觉反馈

1. **按钮状态**
   - 🎤 图标：休眠状态
   - 粉紫渐变 + 声波：激活状态
   - 倒计时圆环：剩余时间

2. **状态标签**
   - 🟢 聆听中 (Xs)：正在接收语音
   - 🔵 Kiki 说话中...：正在播放回复
   - 🟡 准备中...：正在初始化

3. **识别显示**
   - 实时显示识别的文字
   - 显示指令类型和意图
   - 半透明卡片，自动消失

4. **波形动画**
   - 说话时显示彩色波形
   - 聆听时显示声波扩散
   - 视觉反馈更直观

## 技术架构

### 📦 核心组件

1. **VoiceButton.tsx**
   - 语音按钮 UI
   - 状态显示
   - 动画效果

2. **VoiceTutorial.tsx**
   - 使用教程弹窗
   - 指令分类展示
   - 交互技巧说明

3. **useVoice.ts**
   - 语音识别管理
   - 指令处理逻辑
   - Store 集成

4. **voiceCommandService.ts**
   - 指令解析器
   - 响应生成器
   - 自然语言处理

### 🔧 依赖服务

- **useVoiceRecognition**：Web Speech API 封装
- **useSpeechSynthesis**：语音合成 API 封装
- **taskStore**：任务数据管理
- **growthStore**：成长数据管理
- **userStore**：用户设置管理

## 配置选项

### ⚙️ 语音设置（在设置模块中）

```typescript
{
  voiceType: 'default',        // 语音类型
  voiceSpeed: 1.0,             // 语速（0.5-2.0）
  wakeWordSensitivity: 0.8,    // 唤醒词灵敏度
}
```

### 🎯 常量配置

```typescript
VOICE_CONFIG = {
  WAKE_WORD: 'Kiki宝宝',
  WAKE_TIMEOUT: 8000,          // 8秒待命
  RECOGNITION_LANGUAGE: 'zh-CN',
  SYNTHESIS_LANGUAGE: 'zh-CN',
  DEFAULT_VOICE_SPEED: 1.0,
  DEFAULT_VOICE_PITCH: 1.0,
}
```

## 常见问题

### ❓ FAQ

**Q: 为什么 Kiki 没有响应？**
- 检查麦克风权限
- 确保浏览器支持 Web Speech API
- 检查网络连接

**Q: 识别不准确怎么办？**
- 说话清晰，避免噪音
- 调整麦克风音量
- 使用更具体的表达

**Q: 如何取消语音输入？**
- 再次点击 🎤 按钮
- 等待 8 秒自动休眠
- 说"取消"或"算了"

**Q: 支持哪些浏览器？**
- Chrome/Edge（推荐）
- Safari（部分支持）
- Firefox（部分支持）

## 未来规划

### 🚀 即将推出

- [ ] 离线语音识别
- [ ] 自定义唤醒词
- [ ] 多语言支持
- [ ] 声纹识别
- [ ] 情感识别
- [ ] 更智能的上下文理解
- [ ] 语音快捷指令
- [ ] 语音宏录制

## 反馈与建议

如果你有任何问题或建议，欢迎通过以下方式联系我们：

- 在应用内点击"反馈"按钮
- 发送邮件至：support@manifestos.app
- 加入我们的社区讨论

---

**享受与 Kiki 宝宝的智能对话吧！** 🎤✨

