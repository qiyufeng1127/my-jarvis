# 修复NewTimelineView.tsx中的乱码注释
with open('src/components/calendar/NewTimelineView.tsx', 'r', encoding='utf-8') as f:
    content = f.read()

# 替换所有乱码注释为正确的中文
replacements = {
    '????��??????? + ??? + ??? + ????? - ?????��??': '标签拖拽手柄 + 标签 + 时长 + 编辑按钮 - 顶部第一行',
    '�²��֣����ҷ��� - �����Ϣ + �Ҳ��ͼ': '新布局：左右分栏 - 左侧信息 + 右侧大图',
    '��ࣺ������Ϣ': '左侧：所有信息',
    '���������� + ���� + �༭��ť': '顶部：标题 + 表情 + 编辑按钮',
    '�ȼ� + ������': '等级 + 进度条',
    '�ײ������� + ��ǩ + ʱ��': '底部：拖拽 + 标签 + 时长',
    '�Ҳࣺ����ͼ': '右侧：超大图片',
    '��ͼƬ - Բ�Ǿ���': '大图片 - 圆角矩形',
    'ͼƬ�����Ǳ�': '图片数量角标',
    '???? + ??? + ??????': '标题 + 表情 + 目标文本',
    '????????????': '照片任务进度条',
    '??????': '状态指示器',
    '����ʱ��ʾ': '倒计时显示',
    '?????��??+???? + ??? + start - ???????��': '完成按钮区域 + 图标 + start - 底部第二行',
    '????????????': '任务图标区域',
    '????': '任务',
    '�ϴ���': '上传中',
    '����ϴ�ͼƬ��֧�ֶ�ѡ��': '点击上传图片（支持多选）',
}

for old, new in replacements.items():
    content = content.replace(old, new)

# 写回文件
with open('src/components/calendar/NewTimelineView.tsx', 'w', encoding='utf-8') as f:
    f.write(content)

print("乱码修复完成！")
print(f"共修复 {len(replacements)} 处乱码")

