# 📋 ManifestOS 交互教程 - 第2部分：任务管理

> 学习如何创建、管理和完成任务

---

## 📖 本教程内容

- 创建任务的两种方法
- 任务卡片详解
- 任务状态流转
- 完成任务获得奖励

---

## ✅ 创建任务

### 方法 1: 使用按钮创建

#### 步骤 1: 打开任务表单

**操作**:
- 点击中间区域的 **"➕ 添加任务"** 按钮
- 或点击空状态的 **"创建第一个任务"** 按钮

**效果**:
- 弹出任务创建表单（模态框）
- 背景变暗
- 表单居中显示

#### 步骤 2: 填写任务信息

**必填字段**:

1. **📝 任务标题**
   - 输入框
   - 示例：`写工作报告`、`健身30分钟`
   - 建议：简洁明确，动词开头

2. **🏷️ 任务类型**
   - 下拉选择
   - 7种类型：
     - 💼 **工作任务** - 工作相关的任务
     - 📚 **学习任务** - 学习、阅读、课程
     - 💪 **健康任务** - 运动、饮食、休息
     - 🎨 **创作任务** - 写作、设计、创作
     - 🏠 **生活任务** - 家务、购物、杂事
     - 👥 **社交任务** - 社交、聚会、沟通
     - 🎯 **其他任务** - 其他类型

**可选字段**:

3. **📄 任务描述**
   - 多行文本框
   - 详细说明任务内容
   - 可以包含步骤、注意事项

4. **⚡ 优先级**
   - 选择 1-4
   - **1 = 最高优先级**（紧急重要）
   - **2 = 高优先级**（重要不紧急）
   - **3 = 中优先级**（紧急不重要）
   - **4 = 低优先级**（不紧急不重要）

5. **⏱️ 预计时长**
   - 下拉选择
   - 选项：
     - 15分钟
     - 30分钟
     - 1小时
     - 2小时
     - 4小时
     - 8小时

6. **📅 计划开始时间**
   - 日期时间选择器
   - 选择具体的日期和时间
   - 示例：`2026-01-22 14:00`

7. **🎯 成长维度**
   - 多选框
   - 选择任务关联的成长维度
   - 可以选择多个维度
   - 每个维度可以设置增长值

#### 步骤 3: 创建任务

**操作**:
- 点击 **"创建任务"** 按钮

**效果**:
- 表单关闭
- 任务出现在任务列表中
- 显示成功提示

**示例任务**:
```
标题：完成项目方案
类型：💼 工作任务
描述：完成Q1项目方案，包括需求分析和技术方案
优先级：1（最高）
时长：2小时
开始时间：今天 14:00
成长维度：
  - ⚡ 执行力 +10
  - 🎯 专注力 +5
```

### 方法 2: 使用语音创建

**操作**:
1. 点击右下角 🎤 按钮
2. 听到"我在，请说"
3. 说出指令：**"创建任务：写工作报告"**
4. Kiki 会自动创建任务

**语音指令格式**:
- `"创建任务：[任务名称]"`
- `"添加任务：[任务名称]"`

**注意**:
- 语音创建的任务使用默认设置
- 可以后续手动编辑任务详情

---

## 📄 任务卡片详解

### 任务卡片结构

```
┌─────────────────────────────────────────────┐
│ 💼 完成项目方案              [待安排] 💰120 │
│                                             │
│ 完成Q1项目方案，包括需求分析和技术方案      │
│                                             │
│ 📅 今天 14:00  ⏱️ 2小时  ⚡ 最高优先级     │
│                                             │
│ [+10 成长值] [+5 成长值]                    │
└─────────────────────────────────────────────┘
```

### 卡片元素说明

**顶部区域**:
1. **任务类型图标** - 💼（左上角）
2. **任务标题** - 完成项目方案
3. **任务状态** - 待安排（右上角徽章）
4. **金币奖励** - 💰120（右上角）

**中间区域**:
5. **任务描述** - 详细说明（灰色文字）
6. 最多显示2行，超出显示省略号

**底部区域**:
7. **📅 计划时间** - 今天 14:00
8. **⏱️ 预计时长** - 2小时
9. **⚡ 优先级标识** - 最高优先级（仅高优先级显示）

**标签区域**:
10. **成长维度标签** - 显示关联的成长维度和增长值

### 任务状态颜色

| 状态 | 颜色 | 说明 |
|------|------|------|
| 待安排 | 灰色 | 刚创建，未安排时间 |
| 已安排 | 蓝色 | 已设置开始时间 |
| 进行中 | 绿色 | 正在执行 |
| 已完成 | 深绿 | 成功完成 |
| 失败 | 红色 | 未能完成 |

---

## 🔄 任务状态流转

### 完整流程

```
创建任务
   ↓
[待安排] → 设置时间 → [已安排]
   ↓                      ↓
   └──────→ 开始任务 → [进行中]
                          ↓
                    完成任务
                          ↓
                      [已完成] ✅
                          ↓
                    获得奖励 💰🎯
```

### 状态详解

#### 1. 待安排 (pending)

**特征**:
- 刚创建的任务
- 未设置开始时间
- 灰色徽章

**操作**:
- 点击任务卡片
- 设置开始时间
- 状态变为"已安排"

#### 2. 已安排 (scheduled)

**特征**:
- 已设置开始时间
- 等待开始
- 蓝色徽章

**操作**:
- 到达开始时间后
- 点击"开始任务"按钮
- 状态变为"进行中"

#### 3. 进行中 (in_progress)

**特征**:
- 正在执行任务
- 计时器运行
- 绿色徽章

**操作**:
- 完成任务后
- 点击"完成任务"按钮
- 状态变为"已完成"

#### 4. 已完成 (completed)

**特征**:
- 任务成功完成
- 获得奖励
- 深绿色徽章

**奖励**:
- 💰 金币
- 🎯 成长值
- 🏆 可能获得成就

#### 5. 失败 (failed)

**触发条件**:
- 超过计划时间未完成
- 主动标记为失败

**惩罚**:
- 💸 扣除金币
- 📉 不增加成长值

---

## 🎮 任务操作

### 查看任务详情

**操作**:
- 点击任务卡片

**显示内容**:
- 完整的任务信息
- 任务历史记录
- 操作按钮

### 开始任务

**前提条件**:
- 任务状态为"已安排"
- 已到达开始时间（或手动开始）

**操作步骤**:
1. 点击任务卡片
2. 点击 **"开始任务"** 按钮
3. 确认开始

**效果**:
- 任务状态变为"进行中"
- 开始计时
- 任务卡片变为绿色

**计时器**:
- 显示已用时间
- 实时更新
- 可以暂停/继续

### 完成任务

**前提条件**:
- 任务状态为"进行中"

**操作步骤**:
1. 点击正在进行的任务
2. 点击 **"完成任务"** 按钮
3. 确认完成

**效果**:
- 任务状态变为"已完成"
- 停止计时
- 显示奖励动画

**获得奖励**:

```
🎉 任务完成！

💰 金币奖励
  基础奖励：100
  时长奖励：20
  优先级奖励：10
  ─────────────
  总计：+130 金币

🎯 成长值
  ⚡ 执行力：+10
  🎯 专注力：+5
  ─────────────
  总计：+15 成长值

📊 统计
  今日完成：3/5
  本周完成：12/20
  完成率：85%
```

### 编辑任务

**操作**:
1. 点击任务卡片
2. 点击 **"编辑"** 按钮
3. 修改任务信息
4. 点击 **"保存"**

**可编辑内容**:
- 任务标题
- 任务描述
- 优先级
- 预计时长
- 开始时间
- 成长维度

**注意**:
- 进行中的任务不能修改时长
- 已完成的任务不能编辑

### 删除任务

**操作**:
1. 点击任务卡片
2. 点击 **"删除"** 按钮
3. 确认删除

**警告**:
- 删除操作不可恢复
- 已完成的任务删除后奖励不会退回

---

## 💰 金币奖励计算

### 计算公式

```
总金币 = 基础奖励 × 时长系数 × 优先级系数
```

### 基础奖励（按任务类型）

| 任务类型 | 基础奖励 |
|---------|---------|
| 💼 工作任务 | 100 金币 |
| 📚 学习任务 | 80 金币 |
| 💪 健康任务 | 60 金币 |
| 🎨 创作任务 | 90 金币 |
| 🏠 生活任务 | 40 金币 |
| 👥 社交任务 | 50 金币 |
| 🎯 其他任务 | 50 金币 |

### 时长系数

| 时长 | 系数 |
|------|------|
| 15分钟 | 0.5 |
| 30分钟 | 0.8 |
| 1小时 | 1.0 |
| 2小时 | 1.5 |
| 4小时 | 2.0 |
| 8小时 | 3.0 |

### 优先级系数

| 优先级 | 系数 |
|--------|------|
| 1（最高） | 1.5 |
| 2（高） | 1.2 |
| 3（中） | 1.0 |
| 4（低） | 0.8 |

### 计算示例

**任务**: 完成项目方案
- 类型：💼 工作任务（基础 100）
- 时长：2小时（系数 1.5）
- 优先级：1（系数 1.5）

**计算**:
```
金币 = 100 × 1.5 × 1.5 = 225 金币
```

---

## 🎯 成长值奖励

### 自动分配

完成任务后，根据任务类型自动增加对应维度的成长值：

| 任务类型 | 主要维度 | 次要维度 |
|---------|---------|---------|
| 💼 工作任务 | ⚡ 执行力 +10 | 🎯 专注力 +5 |
| 📚 学习任务 | 🎯 专注力 +10 | ⚡ 执行力 +5 |
| 💪 健康任务 | ❤️ 健康力 +10 | ⚡ 执行力 +5 |
| 🎨 创作任务 | ✨ 魅力值 +10 | 🎯 专注力 +5 |
| 🏠 生活任务 | ⚡ 执行力 +5 | - |
| 👥 社交任务 | ✨ 魅力值 +10 | - |

### 手动设置

创建任务时可以自定义成长维度和增长值。

---

## 💡 任务管理技巧

### 1. 合理安排优先级

**建议**:
- 重要且紧急 → 优先级 1
- 重要不紧急 → 优先级 2
- 紧急不重要 → 优先级 3
- 不紧急不重要 → 优先级 4

### 2. 预估时长

**技巧**:
- 首次做的任务：预估时间 × 1.5
- 熟悉的任务：根据历史记录
- 复杂任务：拆分成多个小任务

### 3. 每日任务数量

**建议**:
- 新手：3-5 个任务/天
- 熟练：5-8 个任务/天
- 高手：不超过 10 个任务/天

### 4. 任务拆分

**大任务拆分原则**:
- 单个任务不超过 4 小时
- 拆分成可独立完成的小任务
- 每个小任务都有明确的产出

**示例**:
```
❌ 错误：完成项目（8小时）

✅ 正确：
  - 需求分析（2小时）
  - 技术方案设计（2小时）
  - 原型设计（2小时）
  - 方案评审（1小时）
```

---

## ✅ 任务管理检查清单

完成以下操作，确保你已掌握任务管理：

- [ ] 使用按钮创建一个任务
- [ ] 填写完整的任务信息
- [ ] 查看任务卡片的各个元素
- [ ] 开始一个任务
- [ ] 完成一个任务并获得奖励
- [ ] 编辑一个任务
- [ ] 理解金币奖励计算规则
- [ ] 理解成长值分配规则

---

## 📚 下一步

**继续学习**:
- 📖 [第3部分：成长系统](TUTORIAL_03_GROWTH_SYSTEM.md)
- 📖 [第4部分：语音助手](TUTORIAL_04_VOICE_ASSISTANT.md)
- 📖 [第5部分：金币系统](TUTORIAL_05_GOLD_SYSTEM.md)

---

**ManifestOS - 通过小任务，完成大蜕变** 🚀

